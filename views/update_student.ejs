<!DOCTYPE html>
<html>

<head>
        <title>Add New Student</title>
</head>

<body>
        <form id="newStudentForm">
                <label for="student_id">Student ID: </label>
                <input type="number" name="student_id" id="student_id" value="<%= student.student_id %>" />
                <br>

                <label for="name">Name: </label>
                <input type="text" name="name" id="name" value="<%= student.name %>"/>
                <br>

                <label for="email">Email: </label>
                <input type="email" name="email" id="email" value="<%= student.email %>"/>
                <br>

                <label for="conatct_no">Contact No: </label>
                <input type="tel" name="conatct_no" id="conatct_no" value="<%= student.conatct_no %>"/>
                <br>

                <label for="address">Address: </label>
                <input type="text" name="address" id="address" value="<%= student.address %>"/>
                <br>

                <label for="gender">Gender: </label>
                <input type="text" name="gender" id="gender" value="<%= student.gender %>"/>
                <br>

                <label for="date_of_birth">Date of Birth: </label>
                <input type="text" name="date_of_birth" id="date_of_birth" value="<%= student.date_of_birth %>"/>
                <br>

                <label for="batch_year">Batch Year: </label>
                <input type="text" name="batch_year" id="batch_year" value="<%= student.batch_year %>"/>
                <br>

                <button type="submit">Add Student</button>

        </form>

        <script>
                document.addEventListener("DOMContentLoaded",(event) => {
                                const form = document.getElementById("newStudentForm");

                                form.addEventListener('submit', function(event) {
                                        const data = {
                                                student_id: parseInt(document.querySelector("#student_id").value),
                                                name: document.querySelector("#name").value,
                                                email: document.querySelector("#email").value,
                                                conatct_no: document.querySelector("#conatct_no").value,
                                                address: document.querySelector("#address").value,
                                                gender: document.querySelector("#gender").value,
                                                date_of_birth: document.querySelector("#date_of_birth").value,
                                                batch_year: document.querySelector("#batch_year").value,
                                        }
                                        fetch('/addOneStudent',{
                                                method: 'POST',
                                                headers: { 'Content-Type':'application/json'},
                                                body: JSON.stringify(data)
                                        }).then({
                                                
                                        });
                                })
                        });
        </script>
</body>

</html>